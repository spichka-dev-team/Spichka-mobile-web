exports.id=464,exports.ids=[464],exports.modules={3463:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(37413),a=s(67218);s(79130),s(61120);var i=s(94612),l=s(66819),n=s(17754),o=s(17478);let c=process.env.API_URL,d=async({className:e,token:t})=>{let s=[];try{s=(await i.A.get(`${c}/items/Tickets_History_List?fields=event.Event_id.id,event.Event_id.title,event.Event_id.start_date,event.Event_id.picture,event.Event_id.community_group_location.Community_Group_Location_id.address_title

`,{headers:{Authorization:`Bearer ${t}`}})).data.data.map(e=>e.event[0].Event_id)}catch(e){console.warn("Ошибка при получении tickets:",e)}return console.log(s),(0,r.jsx)("div",{className:(0,l.cn)(e,"w-full flex flex-col gap-4 items-center"),children:s.length>0?s.map((e,t)=>(0,r.jsx)(n.Q_,{title:e.title||"Без названия",date:e.start_date,address:e.community_group_location[0].Community_Group_Location_id.address_title,posterUrl:e.picture||"",posterAlt:`Постер: ${e.title}`},e.id+t)):(0,r.jsx)("p",{children:"У вас пока нет билетов"})})};(0,o.D)([d]),(0,a.A)(d,"7f7995104847431c669bbd35b9618fb6ad4f5acb92",null)},7508:(e,t,s)=>{"use strict";s.d(t,{OT:()=>P,vY:()=>_,Jw:()=>L.LocalHeader,_j:()=>m,D$:()=>b,Nx:()=>r.PlatformHeader,KP:()=>i.K,VQ:()=>a.TabBar,$u:()=>$.$});var r=s(74731),a=s(92063),i=s(71687),l=s(37413),n=s(94612),o=s(13879);s(61120);let c=process.env.API_URL,d=process.env.NEXT_DIRECTUS_ADMIN_TOKEN,m=async({id:e})=>{let{data:t}=await n.A.get(`${c}/items/Community_Group_Location/${e}`,{headers:{Authorization:`Bearer ${d}`}}),s=t.data;return(0,l.jsx)(o.LocationSection,{location:s})};var h=s(53384),u=s(66819),f=s(80574),x=s.n(f);let p=process.env.API_URL,b=async({id:e})=>{let{data:t}=await n.A.get(`${p}/Community_Group_files?filter={"Community_Group_id":{"_eq":${e}}}`),s=t.data;return console.log("photos:",s),(0,l.jsx)("div",{className:(0,u.cn)("h-64 p-2 bg-[rgba(255,255,255,0.15)] rounded-2xl",x().parent),children:s.map((e,t)=>(0,l.jsx)("div",{className:(0,u.cn)("relative rounded-2xl overflow-hidden",x()[`div${t+1}`]),children:(0,l.jsx)(h.default,{src:`https://d.vencera.tech/assets/${e.directus_files_id}`,alt:`Photo ${e.id}`,fill:!0,className:"object-cover"})},e.id))})};var v=s(72159),g=s(17754),w=s(4536),j=s.n(w);let _=async({id:e,data:t})=>{console.log("EventInfo data:",t);let s=new Date(t.start_date).toLocaleDateString("ru-RU",{day:"2-digit",month:"long",year:"numeric"});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"p-[5px] rounded-2xl bg-white/20 backdrop-blur-sm",children:(0,l.jsx)(h.default,{src:`/api/proxy/image?id=${t.picture}`||"https://cdn1.ozone.ru/s3/multimedia-q/6254451122.jpg",width:300,height:375,alt:`Event_With_Id_${t.id}_Preview`,className:"rounded-2xl"})}),(0,l.jsx)("div",{className:"flex flex-col items-center text-center",children:(0,l.jsx)("h3",{className:"z-20 font-unbounded font-medium text-xl",children:t.title})}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 w-full",children:[(0,l.jsx)(v.V,{className:"bg-white text-black",title:s}),t.tags?.map((e,t)=>(0,l.jsx)(v.V,{className:"bg-white/20 backdrop-blur-sm",title:e},t))]}),(0,l.jsx)(g.MW,{text:t.description}),(0,l.jsxs)("div",{className:"max-w-xs w-full h-fit bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-between pr-5",children:[(0,l.jsx)(j(),{href:`/event/${e}/payment`,className:"w-full",children:(0,l.jsx)(g.$n,{className:"bg-white text-black h-full py-4 px-8 rounded-full font-unbounded font-medium text-base",children:"купить билет!"})}),(0,l.jsxs)("span",{className:"font-geologica font-bold text-lg",children:[t.price,"₸"]})]})]})};var N=s(69498);let y=process.env.API_URL,k=process.env.NEXT_DIRECTUS_ADMIN_TOKEN,P=async({id:e})=>{let{data:t}=await n.A.get(`${y}/items/Event/${e}?fields=organizers.Organizers_id.title,organizers.Organizers_id.user.directus_users_id.first_name,organizers.Organizers_id.user.directus_users_id.last_name,organizers.Organizers_id.user.directus_users_id.avatar`,{headers:{Authorization:`Bearer ${k}`}}),s=t.data,r=s.organizers?.[0]?.Organizers_id,a=r?.user?.[0]?.directus_users_id;return r&&a?(0,l.jsx)("div",{className:"w-full bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:(0,l.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,l.jsx)("div",{className:"w-1/2 aspect-square rounded-lg overflow-hidden",children:(0,l.jsx)(h.default,{src:a.avatar?`/api/proxy/image?id=${a.avatar}`:"/placeholder.svg?height=280&width=400&query=user photo",alt:`${a.first_name} ${a.last_name}`,width:400,height:280,className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{className:"flex flex-1 flex-col justify-center gap-6 text-white",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsxs)("h2",{className:"font-bold text-base md:text-4xl font-geologica break-words",children:[a.first_name," ",a.last_name]}),(0,l.jsx)("p",{className:"text-xs md:text-xl text-white/90 font-geologica font-medium break-words",children:r.title})]}),(0,l.jsx)(N.$,{className:"w-full bg-white text-black hover:bg-white/90 py-6 rounded-full font-geologica font-medium text-base transition-colors",children:(0,l.jsx)(j(),{href:`/user/${a.first_name.toLowerCase()}`,children:"узнать больше"})})]})]})}):null};var $=s(3463),L=s(39811)},13879:(e,t,s)=>{"use strict";s.d(t,{LocationSection:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call LocationSection() from the server but LocationSection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/spichka/Spichka-mobile-web/components/widgets/LocationSection/ui/LocationSection.tsx","LocationSection")},39744:(e,t,s)=>{Promise.resolve().then(s.bind(s,29105)),Promise.resolve().then(s.bind(s,80668)),Promise.resolve().then(s.bind(s,80053)),Promise.resolve().then(s.bind(s,64041)),Promise.resolve().then(s.bind(s,82517)),Promise.resolve().then(s.bind(s,42777)),Promise.resolve().then(s.t.bind(s,85814,23)),Promise.resolve().then(s.t.bind(s,46533,23)),Promise.resolve().then(s.bind(s,1535))},39811:(e,t,s)=>{"use strict";s.d(t,{LocalHeader:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call LocalHeader() from the server but LocalHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/spichka/Spichka-mobile-web/components/widgets/LocalHeader/ui/LocalHeader.tsx","LocalHeader")},42777:(e,t,s)=>{"use strict";s.d(t,{TabBar:()=>f});var r=s(60687),a=s(32192),i=s(99270),l=s(58869),n=s(85814),o=s.n(n),c=s(16189),d=s(96241),m=s(70282),h=s.n(m);let u=[{icon:a.A,href:"/homepage",label:"Главная"},{icon:i.A,href:"/search",className:"scale-x-[-1]",label:"Поиск"},{icon:l.A,href:"/profile",label:"Профиль"}],f=()=>{let e=(0,c.usePathname)();return e.endsWith("/payment")||e.includes("/profile/update")?null:(0,r.jsx)("div",{className:(0,d.cn)(h().TabBar,"fixed max-h-[128px] flex justify-center bottom-0 left-0 right-0 z-40  px-6 py-4"),children:(0,r.jsx)("nav",{className:"flex w-full max-w-[250px] items-center justify-center gap-2",children:u.map(t=>{let s=t.icon,a=e===t.href||"/homepage"!==t.href&&e.startsWith(t.href);return(0,r.jsx)(o(),{href:t.href,className:(0,d.cn)("flex items-center justify-center w-14 h-14 rounded-full transition-all duration-200",t.className?t.className:"",a?"bg-white text-black shadow-lg":"bg-white/10 backdrop-blur-md text-white hover:bg-gray-600/50"),"aria-label":t.label,children:(0,r.jsx)(s,{className:"w-5 h-5"})},t.href)})})})}},61446:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"7f7995104847431c669bbd35b9618fb6ad4f5acb92":()=>a.$,"7fbd531177e75f34a691ef9e4322ff364e0f87419a":()=>r.K});var r=s(71687),a=s(3463)},64041:(e,t,s)=>{"use strict";s.d(t,{LocationSection:()=>o});var r=s(60687),a=s(85814),i=s.n(a),l=s(66814);let n=(0,s(30036).default)(async()=>{},{loadableGenerated:{modules:["components/widgets/LocationSection/ui/LocationSection.tsx -> @/components/features/OpenMap"]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"w-full h-full bg-gray-100 animate-pulse rounded-lg border border-[#868686]"})}),o=({location:e})=>{if(console.log(e),!e)return(0,r.jsx)("div",{className:"w-full bg-white/20 backdrop-blur-sm p-4 rounded-lg text-center text-white",children:"Локация не указана"});let[t,s]=e.map_location.coordinates,a={lat:s,lng:t},o=[{...a,id:String(e.id)}];return(0,r.jsx)("div",{className:"w-full bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-4 min-h-[200px]",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6 justify-between text-white sm:w-1/2 min-w-0",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h4",{className:"font-geologica font-bold text-base break-words",children:e.name}),(0,r.jsx)("span",{className:"text-xs text-white/80 font-geologica font-medium break-words",children:e.description}),(0,r.jsx)("span",{className:"text-xs text-white/80 font-geologica font-medium break-words",children:e.address})]}),(0,r.jsx)(l.$n,{className:"hidden sm:visible bg-white text-black py-6 px-6 rounded-full font-geologica font-medium text-sm w-fit",children:(0,r.jsx)(i(),{href:`/location/${e.id}`,children:"узнать больше"})})]}),(0,r.jsx)("div",{className:"sm:w-1/2 h-[200px] md:h-auto md:min-h-[200px] rounded overflow-hidden",children:(0,r.jsx)(n,{center:a,locations:o})}),(0,r.jsx)(l.$n,{className:"sm:hidden bg-white text-black py-6 px-6 rounded-full font-geologica font-medium text-sm w-fit",children:(0,r.jsx)(i(),{href:`/location/${e.id}`,children:"узнать больше"})})]})})}},70282:e=>{e.exports={TabBar:"styles_TabBar__WgD1A"}},71687:(e,t,s)=>{"use strict";s.d(t,{K:()=>n});var r=s(37413),a=s(67218);s(79130);var i=s(53148),l=s(17478);let n=async({schedule:e,duration:t})=>(0,r.jsx)("div",{className:"w-full bg-white/20 backdrop-blur-sm p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex justify-around items-center gap-8",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center text-white min-w-fit",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(i.A,{className:"w-14 h-14"})}),(0,r.jsx)("span",{className:"text-xl font-unbounded font-medium whitespace-nowrap",children:t})]}),(0,r.jsx)("div",{className:"space-y-4",children:e?.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center font-geologica text-white",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full mr-4 flex-shrink-0"}),(0,r.jsxs)("span",{className:"flex flex-wrap text-sm",children:[(0,r.jsx)("span",{className:"",children:e.time}),(0,r.jsx)("span",{className:"mx-2",children:"-"}),(0,r.jsx)("span",{children:e.title})]})]},e.title+t))})]})});(0,l.D)([n]),(0,a.A)(n,"7fbd531177e75f34a691ef9e4322ff364e0f87419a",null)},74731:(e,t,s)=>{"use strict";s.d(t,{PlatformHeader:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call PlatformHeader() from the server but PlatformHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/spichka/Spichka-mobile-web/components/widgets/PlatformHeader/ui/PlatformHeader.tsx","PlatformHeader")},76192:(e,t,s)=>{Promise.resolve().then(s.bind(s,7079)),Promise.resolve().then(s.bind(s,67078)),Promise.resolve().then(s.bind(s,39811)),Promise.resolve().then(s.bind(s,13879)),Promise.resolve().then(s.bind(s,74731)),Promise.resolve().then(s.bind(s,92063)),Promise.resolve().then(s.t.bind(s,4536,23)),Promise.resolve().then(s.t.bind(s,49603,23)),Promise.resolve().then(s.bind(s,71271))},80053:(e,t,s)=>{"use strict";s.d(t,{LocalHeader:()=>l});var r=s(60687),a=s(16189),i=s(28559);let l=({title:e})=>{let t=(0,a.useRouter)();return(0,r.jsx)("header",{className:"absolute top-0 left-0 right-0 z-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-center max-w-6xl mx-auto p-4",children:[(0,r.jsx)("button",{onClick:()=>{t.back()},className:"  text-white hover:bg-black/90 transition-colors",children:(0,r.jsx)(i.A,{className:"w-6 h-6"})}),(0,r.jsx)("h2",{className:"font-unbounded font-medium text-xl",children:e.length>10?e.slice(0,10).toLowerCase()+"...":e.toLowerCase()}),(0,r.jsx)("div",{className:"w-6 h-6"})]})})}},80574:e=>{e.exports={parent:"styles_parent__V0jMq",div1:"styles_div1__ffgZ7",div2:"styles_div2__ekE9J",div3:"styles_div3__qhNh5",div4:"styles_div4__T4KN1",div5:"styles_div5__rZ7K9"}},82517:(e,t,s)=>{"use strict";s.d(t,{PlatformHeader:()=>o});var r=s(60687),a=s(16189),i=s(47033),l=s(96474),n=s(25475);let o=()=>{let e=(0,a.useRouter)();return(0,a.usePathname)().endsWith("/payment")?null:(0,r.jsx)("header",{className:"absolute top-0 left-0 right-0 z-50 p-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center max-w-6xl mx-auto",children:[(0,r.jsx)("button",{onClick:()=>{e.back()},className:"p-4 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/90 transition-colors",children:(0,r.jsx)(i.A,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{className:"p-4 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/90 transition-colors",children:(0,r.jsx)(l.A,{className:"w-5 h-5"})}),(0,r.jsx)("button",{className:"p-4 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/90 transition-colors",children:(0,r.jsx)(n.A,{className:"w-5 h-5"})})]})]})})}},82937:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(37413),a=s(7508);let i={title:"Spichka - главная",description:"Просмотр событий, организаторов и исполнителей"};async function l({children:e}){return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(a.VQ,{})]})}},92063:(e,t,s)=>{"use strict";s.d(t,{TabBar:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call TabBar() from the server but TabBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/root/spichka/Spichka-mobile-web/components/widgets/TabBar/ui/TabBar.tsx","TabBar")}};